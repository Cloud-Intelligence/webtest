---
import Layout from '../layouts/Layout.astro';
import UnlockScreen from '../components/UnlockScreen.astro';
import NavbarEnhanced from '../components/NavbarEnhanced.astro';
import Hero from '../components/Hero.astro';
import About from '../components/About.astro';
import Testimonials from '../components/Testimonials.astro';
import ClientLogos from '../components/ClientLogos.astro';
import ContactSection from '../components/ContactSection.astro';
---

<Layout 
  title="Cloud Intelligence - Unlock the Power of Intelligent Cloud Solutions"
  description="Transform your business with our enterprise-grade cloud intelligence platform. Lightning fast deployment, enterprise security, real-time analytics, and auto-scaling features."
  keywords="cloud intelligence, enterprise cloud, cloud platform, business transformation, cloud computing, data analytics, auto-scaling, cloud security"
>
  <!-- NoScript Info Banner -->
  <noscript>
    <div class="no-js-message">
      âš¡ Enable JavaScript for the full interactive experience with animations and enhanced features.
    </div>
  </noscript>
  
  <!-- Unlock Screen Animation -->
  <div id="unlock-screen-container">
    <UnlockScreen />
  </div>
  
  <!-- Navbar (will be shown/hidden by JavaScript) -->
  <div id="navbar-container" style="display: none; opacity: 0;">
    <NavbarEnhanced />
  </div>
  
  <!-- Main Landing Page Content -->
  <div id="mainScreen" style="visibility: hidden; opacity: 0;">
    <main id="main">
      <Hero />
      <About />
      <Testimonials />
      <ClientLogos />
      <ContactSection />
    </main>
  </div>

</Layout>

<style>
  /* Default: apply overflow hidden for unlock screen */
  body {
    overflow: hidden;
    height: 100vh;
  }
  
  /* Hide unlock screen when skipped */
  body.skip-lock-screen #unlock-screen-container {
    display: none !important;
  }
  
  /* Show main content when lock screen is skipped */
  body.skip-lock-screen #navbar-container {
    display: block !important;
    opacity: 1 !important;
  }
  
  body.skip-lock-screen #mainScreen {
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Remove overflow restriction when lock screen is skipped */
  body.skip-lock-screen {
    overflow: auto !important;
    height: auto !important;
  }
</style>

<script>
  // Check URL hash immediately to avoid flash
  (function() {
    // Check if URL has any hash present
    if (window.location.hash) {
      document.body.classList.add('skip-lock-screen');
    }
  })();
</script>